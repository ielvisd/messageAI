<!DOCTYPE html>
<html>
<head>
    <title>Debug Messaging</title>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body>
    <h1>Debug Messaging Test</h1>
    <div id="status">Connecting...</div>
    <div id="messages"></div>
    
    <script>
        // Replace with your actual Supabase URL and anon key
        const supabaseUrl = 'YOUR_SUPABASE_URL'
        const supabaseKey = 'YOUR_SUPABASE_ANON_KEY'
        
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey)
        
        // Test real-time subscription
        const channel = supabase
            .channel('debug-messages')
            .on('postgres_changes', 
                { event: '*', schema: 'public', table: 'messages' },
                (payload) => {
                    console.log('Real-time message received:', payload)
                    document.getElementById('messages').innerHTML += 
                        `<div>New message: ${JSON.stringify(payload)}</div>`
                }
            )
            .subscribe()
        
        document.getElementById('status').innerHTML = 'Connected! Listening for messages...'
    </script>
</body>
</html>
